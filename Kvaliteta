var vjerojatnosti={"B01":{"good":{"thresholds":[0,46.215776749177394,51.43155349835479,56.64733024753218,61.863106996709575,67.07888374588697,72.29466049506436,77.51043724424176,82.72621399341915,87.94199074259654,93.15776749177394,98.37354424095133,103.58932099012871,108.8050977393061,114.0208744884835,119.2366512376609,124.45242798683829,129.6682047360157,134.8839814851931,140.09975823437048,145.31553498354788,150.53131173272527,155.74708848190267,160.96286523108006,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],"to":[0,0.0032807962865010355,0.04983491631901797,0.02422530654396707,0.02422530654396707,0.022148851697341324,0.024917458159508986,0.0034607580777095814,0.001,0.0027686064621676655,0.001,0.0013843032310838328,0.0020764548466257545,0.002076454846625749,0.001,0.001,0.0006921516155419164,0.001,0.0006921516155419164,0.001,0.0006921516155419164,0.001,0.0013843032310838328,0.0006921516155419164,0.0002575233405983423,0]},"bad":{"thresholds":[0,57.36772284469751,71.73544568939502,86.10316853409253,100.47089137879004,114.83861422348754,189],"from":[0,1,2,3,4,5,6,7],"to":[0,0.007844132165019226,0.03132020326840276,0.001,0.001,0.001,0.0013484106176407352,0]}},"B02":{"good":{"thresholds":[0,41.908966352166956,46.81793270433391,51.726899056500876,56.63586540866783,61.54483176083479,66.45379811300175,71.36276446516871,76.27173081733567,81.18069716950262,86.08966352166958,90.99862987383653,95.9075962260035,100.81656257817045,105.72552893033742,110.63449528250437,115.54346163467133,120.45242798683829,125.36139433900524,130.2703606911722,135.17932704333916,140.08829339550613,144.99725974767307,149.90622609984004,154.815192452007,159.72415880417395,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],"to":[0,0.001981258384589959,0.04044761003323075,0.04338925439928384,0.0323580880265846,0.019120688379345448,0.025739388202964987,0.008824933098159437,0.0022062332745398593,0.0029416443660531455,0.001,0.0007354110915132864,0.0007354110915132843,0.002941644366053154,0.0014708221830265686,0.001,0.001,0.0007354110915132864,0.001,0.0007354110915132885,0.001,0.0007354110915132843,0.001,0.0007354110915132843,0.0007354110915132843,0.0007354110915132885,0.00024662712706364885,0]},"bad":{"thresholds":[0,52.262513395105394,65.52502679021079,78.78754018531617,92.05005358042158,105.31256697552696,189],"from":[0,1,2,3,4,5,6,7],"to":[0,0.008610378084918978,0.03393022020743633,0.001,0.001,0.001,0.0011949225395736134,0]}},"B03":{"good":{"thresholds":[0,34.98853516113565,38.97707032227131,42.96560548340696,46.95414064454261,50.94267580567826,54.93121096681392,58.91974612794957,62.908281289085224,66.89681645022088,70.88535161135653,74.87388677249218,78.86242193362784,82.85095709476349,86.83949225589915,90.8280274170348,94.81656257817045,98.8050977393061,102.79363290044176,106.78216806157741,110.77070322271307,114.75923838384873,118.74777354498437,122.73630870612003,126.72484386725569,130.71337902839133,134.70191418952697,138.69044935066265,142.6789845117983,146.66751967293396,150.6560548340696,154.64458999520525,158.6331251563409,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34],"to":[0,0.0017540557463350136,0.030774125675632858,0.05611752329086002,0.03801509642284066,0.03167924701903388,0.025343397615227064,0.0199126695548213,0.008146092090608714,0.007240970747207732,0.0036204853736038793,0.001,0.001,0.0018102426868019396,0.001,0.0027153640302028997,0.0018102426868019396,0.0009051213434009665,0.001,0.001,0.001,0.0009051213434009665,0.001,0.001,0.0009051213434009665,0.001,0.0009051213434009698,0.001,0.001,0.0009051213434009632,0.0009051213434009698,0.0009051213434009698,0.001,0.00023776620556678212,0]},"bad":{"thresholds":[0,43.23629607085318,54.47259214170636,65.70888821255954,76.94518428341271,88.1814803542659,99.41777642511909,189],"from":[0,1,2,3,4,5,6,7,8],"to":[0,0.009251486282370321,0.02669918967142531,0.017799459780950197,0.001,0.001,0.001,0.0011162928984053513,0]}},"B04":{"good":{"thresholds":[0,28.374914367114783,31.749828734229567,35.12474310134435,38.499657468459134,41.87457183557392,45.2494862026887,48.624400569803484,51.99931493691827,55.37422930403305,58.749143671147834,62.12405803826262,65.4989724053774,68.87388677249218,72.24880113960697,75.62371550672175,78.99862987383653,82.37354424095132,85.7484586080661,89.12337297518089,92.49828734229567,95.87320170941045,99.24811607652524,102.62303044364002,105.9979448107548,109.37285917786959,112.74777354498437,116.12268791209915,119.49760227921394,122.87251664632872,126.2474310134435,129.62234538055827,132.99725974767307,136.37217411478787,139.74708848190264,143.1220028490174,146.4969172161322,149.871831583247,153.24674595036177,156.62166031747654,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41],"to":[0,0.002671806278862077,0.02995128809072293,0.0502753764379992,0.04813599871723328,0.03529973239263774,0.045996620996467355,0.013905955184978504,0.01176657746421258,0.008557510883063694,0.004278755441531847,0.00641813316229777,0.0021393777207659235,0.0010696888603829618,0.0010696888603829618,0.001,0.0021393777207659235,0.0021393777207659235,0.0021393777207659235,0.001,0.001,0.001,0.001,0.001,0.0010696888603829618,0.001,0.001,0.001,0.0010696888603829618,0.001,0.001,0.0010696888603829663,0.001,0.001,0.001,0.0010696888603829663,0.0021393777207659144,0.001,0.001,0.0010696888603829663,0.00011149763510565954,0]},"bad":{"thresholds":[0,32.28907087194087,40.578141743881744,48.86721261582261,57.15628348776348,65.44535435970435,73.73442523164522,82.0234961035861,90.31256697552696,98.60163784746783,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11],"to":[0,0.006194046301090674,0.03619223488793208,0.036192234887932107,0.01206407829597736,0.001,0.001,0.001,0.001,0.006032039147988685,0.0005531073662112741,0]}},"B05":{"good":{"thresholds":[0,25.374914367114783,28.749828734229567,32.12474310134435,35.499657468459134,38.87457183557392,42.2494862026887,45.624400569803484,48.99931493691827,52.37422930403305,55.749143671147834,59.12405803826262,62.4989724053774,65.87388677249218,69.24880113960697,72.62371550672175,75.99862987383653,79.37354424095132,82.7484586080661,86.12337297518089,89.49828734229567,92.87320170941045,96.24811607652524,99.62303044364002,102.9979448107548,106.37285917786959,109.74777354498437,113.12268791209915,116.49760227921394,119.87251664632872,123.2474310134435,126.62234538055829,129.99725974767307,133.37217411478787,136.74708848190264,140.1220028490174,143.4969172161322,146.871831583247,150.24674595036177,153.62166031747654,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41],"to":[0,0.002845415161619384,0.020324088347276274,0.05776319846067993,0.04706630985685032,0.03423004353225478,0.04706630985685032,0.019254399486893312,0.009627199743446656,0.00641813316229777,0.007487822022680732,0.00641813316229777,0.0021393777207659235,0.0010696888603829618,0.0010696888603829618,0.001,0.003209066581148885,0.0021393777207659235,0.0010696888603829618,0.001,0.001,0.001,0.001,0.0010696888603829618,0.001,0.001,0.001,0.0010696888603829618,0.001,0.001,0.001,0.0010696888603829618,0.001,0.001,0.0010696888603829663,0.0010696888603829663,0.0010696888603829572,0.001,0.001,0.0010696888603829663,0.00010204289787608247,0]},"bad":{"thresholds":[0,28.552264572212792,36.104529144425584,43.656793716638376,51.20905828885117,58.76132286106397,66.31358743327675,73.86585200548956,81.41811657770234,88.97038114991514,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11],"to":[0,0.005253523748374787,0.0331026538609135,0.0331026538609135,0.026482123088730797,0.006620530772182694,0.001,0.001,0.001,0.001,0.0009997038992008032,0]}},"B06":{"good":{"thresholds":[0,19.681724764125217,23.363449528250435,27.045174292375656,30.726899056500873,34.40862382062609,38.09034858475131,41.77207334887653,45.453798113001746,49.13552287712697,52.81724764125218,56.4989724053774,60.18069716950262,63.862421933627836,67.54414669775306,71.22587146187827,74.90759622600349,78.58932099012871,82.27104575425393,85.95277051837914,89.63449528250436,93.31622004662958,96.9979448107548,100.67966957488002,104.36139433900524,108.04311910313045,111.72484386725567,115.40656863138089,119.08829339550611,122.77001815963133,126.45174292375654,130.13346768788176,133.81519245200698,137.4969172161322,141.17864198025742,144.86036674438265,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"to":[0,0.0012839707101689507,0.015688769952283445,0.04412466549079714,0.025494251172460597,0.04902740610088576,0.04412466549079714,0.035299732392637714,0.014708221830265742,0.004902740610088572,0.005883288732106297,0.006863836854124001,0.004902740610088572,0.001,0.001961096244035425,0.002941644366053154,0.0009805481220177142,0.001,0.001,0.001,0.001,0.0009805481220177142,0.001,0.001,0.001,0.0009805481220177181,0.001,0.001,0.0009805481220177142,0.001,0.001,0.0019610962440354284,0.001,0.0009805481220177142,0.001,0.0009805481220177142,0.00008178836199980577,0]},"bad":{"thresholds":[0,24.02587717166895,33.0517543433379,42.07763151500684,51.103508686675795,60.12938585834475,69.15526303001369,78.18114020168264,87.20701737335159,189],"from":[0,1,2,3,4,5,6,7,8,9,10],"to":[0,0.004162178940876253,0.02769813894484598,0.02769813894484599,0.03323776673381516,0.001,0.001,0.001,0.001,0.0009823859898749148,0]}},"B07":{"good":{"thresholds":[0,15.295345558146089,19.590691116292177,23.886036674438262,28.18138223258435,32.476727790730436,36.772073348876525,41.06741890702261,45.3627644651687,49.65811002331479,53.95345558146088,58.24880113960697,62.54414669775305,66.83949225589913,71.13483781404523,75.43018337219132,79.7255289303374,84.02087448848349,88.31622004662958,92.61156560477566,96.90691116292176,101.20225672106784,105.49760227921394,109.79294783736002,114.0882933955061,118.3836389536522,122.67898451179828,126.97433006994437,131.26967562809045,135.56502118623655,139.86036674438265,144.1557123025287,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],"to":[0,0.0023602659315705384,0.02269268510955283,0.03277832293602078,0.03950208148699937,0.03698067203038242,0.026054564385042136,0.02857597384165912,0.010085637826467923,0.004202349094361635,0.010085637826467923,0.001680939637744654,0.0008404698188723284,0.002521409456616985,0.0016809396377446511,0.001,0.001,0.001,0.0008404698188723256,0.001,0.001,0.001,0.0008404698188723256,0.001,0.001,0.0008404698188723256,0.001,0.0016809396377446511,0.001,0.0008404698188723256,0.001,0.0008404698188723312,0.00008050319201418973,0]},"bad":{"thresholds":[0,21.97310237058126,33.94620474116252,45.91930711174377,57.89240948232503,69.86551185290628,81.83861422348754,189],"from":[0,1,2,3,4,5,6,7,8],"to":[0,0.009102037419521172,0.016704108409814806,0.03758424392208334,0.0041760271024537015,0.001,0.001,0.0009331719562543948,0]}},"B08":{"good":{"thresholds":[0,13.908966352166958,18.817932704333916,23.726899056500876,28.635865408667833,33.54483176083479,38.45379811300175,43.36276446516871,48.271730817335666,53.18069716950262,58.08966352166958,62.99862987383654,67.9075962260035,72.81656257817045,77.72552893033742,82.63449528250437,87.54346163467133,92.45242798683829,97.36139433900524,102.2703606911722,107.17932704333916,112.08829339550613,116.99725974767308,121.90622609984004,126.815192452007,131.72415880417395,136.6331251563409,141.54209150850787,146.45105786067484,151.36002421284178,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],"to":[0,0.0023359733503259157,0.02500397711145173,0.03015185475204472,0.030887265843558033,0.03971219894171747,0.022062332745398563,0.016914455104805586,0.009560344189672724,0.005883288732106291,0.006618699823619578,0.001,0.0029416443660531416,0.001470822183026577,0.001,0.001,0.001,0.0007354110915132864,0.001,0.001,0.001,0.0007354110915132843,0.001,0.001,0.0007354110915132864,0.0007354110915132864,0.0007354110915132885,0.001,0.0007354110915132843,0.0007354110915132885,0.00009591154690595662,0]},"bad":{"thresholds":[0,23.55192441962953,38.10384883925906,52.65577325888859,67.20769767851812,81.75962209814764,189],"from":[0,1,2,3,4,5,6,7],"to":[0,0.010614843846545109,0.020615829999454986,0.024051801666030815,0.001,0.001,0.00093248459168543,0]}},"B09":{"good":{"thresholds":[0,13.908966352166958,18.817932704333916,23.726899056500876,28.635865408667833,33.54483176083479,38.45379811300175,43.36276446516871,48.271730817335666,53.18069716950262,58.08966352166958,62.99862987383654,67.9075962260035,72.81656257817045,77.72552893033742,82.63449528250437,87.54346163467133,92.45242798683829,97.36139433900524,102.2703606911722,107.17932704333916,112.08829339550613,116.99725974767308,121.90622609984004,126.815192452007,131.72415880417395,136.6331251563409,141.54209150850787,146.45105786067484,151.36002421284178,156.26899056500875,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],"to":[0,0.0023359733503259157,0.025739388202965018,0.029416443660531436,0.030887265843558033,0.03971219894171747,0.022062332745398563,0.0161790440132923,0.01029575528118601,0.005883288732106291,0.005883288732106291,0.0007354110915132854,0.0029416443660531416,0.001470822183026577,0.001,0.001,0.001,0.0007354110915132864,0.001,0.001,0.001,0.0007354110915132843,0.001,0.001,0.0007354110915132864,0.0007354110915132864,0.0007354110915132885,0.001,0.0007354110915132843,0.001,0.0007354110915132843,0.00011029627150422355,0]},"bad":{"thresholds":[0,22.55192441962953,37.10384883925906,51.65577325888859,66.20769767851812,80.75962209814764,189],"from":[0,1,2,3,4,5,6,7],"to":[0,0.008868422768653706,0.024051801666030815,0.024051801666030815,0.001,0.001,0.0009238696495560614,0]}},"B10":{"good":{"thresholds":[0,13.908966352166958,18.817932704333916,23.726899056500876,28.635865408667833,33.54483176083479,38.45379811300175,43.36276446516871,48.271730817335666,53.18069716950262,58.08966352166958,62.99862987383654,67.9075962260035,72.81656257817045,77.72552893033742,82.63449528250437,87.54346163467133,92.45242798683829,97.36139433900524,102.2703606911722,107.17932704333916,112.08829339550613,116.99725974767308,121.90622609984004,126.815192452007,131.72415880417395,136.6331251563409,141.54209150850787,146.45105786067484,151.36002421284178,156.26899056500875,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],"to":[0,0.0023359733503259157,0.025739388202965018,0.03015185475204472,0.030151854752044745,0.03971219894171747,0.021326921653885274,0.015443632921779017,0.011766577464212582,0.005883288732106291,0.005883288732106291,0.0007354110915132854,0.0029416443660531416,0.001470822183026577,0.001,0.001,0.001,0.0007354110915132864,0.001,0.001,0.001,0.0007354110915132843,0.001,0.001,0.0007354110915132864,0.0007354110915132864,0.0007354110915132885,0.001,0.0007354110915132843,0.001,0.0007354110915132843,0.00011029627150422355,0]},"bad":{"thresholds":[0,22.55192441962953,37.10384883925906,51.65577325888859,66.20769767851812,80.75962209814764,189],"from":[0,1,2,3,4,5,6,7],"to":[0,0.008868422768653706,0.024051801666030815,0.024051801666030815,0.001,0.001,0.0009238696495560614,0]}},"B11":{"good":{"thresholds":[0,13.829397543198262,19.658795086396523,25.48819262959479,31.31759017279305,37.146987715991315,42.97638525918958,48.80578280238784,54.6351803455861,60.46457788878436,66.29397543198263,72.12337297518089,77.95277051837915,83.78216806157741,89.61156560477568,95.44096314797393,101.2703606911722,107.09975823437047,112.92915577756872,118.75855332076699,124.58795086396525,130.4173484071635,136.24674595036177,142.07614349356004,147.9055410367583,153.73493857995658,159.56433612315482,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"to":[0,0.001566275736295395,0.016101632319448795,0.019817393623936967,0.022913861377677133,0.03715761304488181,0.02415244847917319,0.019198100073188947,0.01052799036271652,0.006812229058228336,0.003096467753740149,0.0024771742029921252,0.0006192935507480298,0.001,0.001,0.0006192935507480313,0.001,0.001,0.001,0.0006192935507480298,0.001,0.0006192935507480313,0.0012385871014960596,0.001,0.0006192935507480298,0.001,0.0006192935507480328,0.00012264402523256483,0]},"bad":{"thresholds":[0,21.99931969483347,35.99863938966694,49.99795908450041,63.99727877933388,77.99659847416736,91.99591816900082,189],"from":[0,1,2,3,4,5,6,7,8],"to":[0,0.004545595108719882,0.021429612762591366,0.021429612762591373,0.01428640850839424,0.001,0.0035716021270985636,0.0005154422273395686,0]}},"B12":{"good":{"thresholds":[0,17.511122307323483,27.02224461464696,36.53336692197044,46.04448922929392,55.555611536617405,65.06673384394088,74.57785615126437,84.08897845858785,93.60010076591132,103.11122307323481,112.62234538055829,122.13346768788176,131.64458999520525,141.15571230252874,150.6668346098522,160.1779569171757,169.68907922449918,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"to":[0,0.0020616087535059256,0.011766577464212582,0.01328484552411098,0.018219216718780764,0.009868742389339581,0.019357917763704578,0.015182680598983958,0.00948917537436499,0.0011387010449237986,0.000379567014974599,0.001,0.001,0.001,0.001138701044923797,0.0003795670149746001,0.001,0.000379567014974599,0.0003738929225818308,0]},"bad":{"thresholds":[0,35.07763151500684,62.155263030013685,89.23289454502053,189],"from":[0,1,2,3,4,5],"to":[0,0.007127049039586539,0.014772340770584525,0.009232712981615328,0.0010023343820987733,0]}},"B13":{"good":{"thresholds":[0,6.068103970104349,9.136207940208697,12.204311910313045,15.272415880417395,18.340519850521744,21.40862382062609,24.47672779073044,27.54483176083479,30.61293573093914,33.68103970104349,36.749143671147834,39.81724764125218,42.88535161135653,45.95345558146088,49.02155955156523,52.08966352166958,55.157767491773924,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"to":[0,0.014278364330083884,0.037653047885480254,0.05294959858895663,0.05294959858895659,0.04588965211042905,0.03765304788548029,0.03294641689979521,0.018826523942740123,0.0023533154928425154,0.007059946478527546,0.001176657746421259,0.001,0.0011766577464212562,0.001176657746421259,0.0023533154928425124,0.001176657746421259,0.001176657746421259,0.00002697286376351513,0]},"bad":{"thresholds":[0,10.920667722076832,18.841335444153664,26.762003166230496,189],"from":[0,1,2,3,4,5],"to":[0,0.018313898480372875,0.04418819375852173,0.04418819375852173,0.0006163784190608621,0]}},"B14":{"good":{"thresholds":[0,9.215776749177394,14.431553498354786,19.647330247532178,24.863106996709572,30.078883745886966,35.294660495064356,40.51043724424175,45.726213993419144,50.94199074259654,56.15776749177393,61.373544240951325,66.58932099012871,71.8050977393061,77.0208744884835,82.2366512376609,87.45242798683829,92.66820473601568,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"to":[0,0.005484238347027963,0.020072396850715577,0.030454671083844326,0.028378216237218565,0.029070367852760483,0.028378216237218586,0.021456700081799403,0.01730379038854791,0.0013843032310838328,0.0006921516155419164,0.001,0.001,0.001,0.0013843032310838328,0.0013843032310838328,0.001,0.0006921516155419164,0.00007495154208132593,0]},"bad":{"thresholds":[0,17.446714970037412,30.893429940074824,44.34014491011224,57.78685988014965,189],"from":[0,1,2,3,4,5,6],"to":[0,0.011463476095269248,0.018591901483526758,0.029747042373642806,0.007436760593410701,0.00038105939659953186,0]}},"B15":{"good":{"thresholds":[0,15.590691116292176,24.18138223258435,32.772073348876525,41.3627644651687,49.95345558146088,58.54414669775305,67.13483781404523,75.7255289303374,84.31622004662958,92.90691116292176,101.49760227921394,110.0882933955061,118.67898451179828,127.26967562809045,135.86036674438265,144.4510578606748,153.04174897696697,161.63244009325916,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],"to":[0,0.0020839983607454714,0.013027282192521071,0.015128456739701894,0.01891057092462736,0.013027282192521068,0.020591510562372028,0.017229631286882704,0.007564228369850943,0.0037821141849254717,0.001,0.0004202349094361635,0.001,0.001,0.0004202349094361635,0.0012607047283084885,0.001,0.0004202349094361642,0.0004202349094361628,0.0001319119539904579,0]},"bad":{"thresholds":[0,31.68301104089059,56.36602208178118,81.04903312267177,189],"from":[0,1,2,3,4,5],"to":[0,0.006312531335543735,0.018231163096532953,0.010128423942518307,0.0009263464968649755,0]}},"B16":{"good":{"thresholds":[0,17.12474310134435,27.2494862026887,37.37422930403305,47.4989724053774,57.62371550672175,67.7484586080661,77.87320170941045,87.9979448107548,98.12268791209915,108.2474310134435,118.37217411478785,128.4969172161322,138.62166031747654,148.7464034188209,158.87114652016527,168.9958896215096,179.12063272285394,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"to":[0,0.0023189364710891696,0.011053451557290605,0.012479703371134554,0.016401895859205415,0.011053451557290605,0.017828147673049365,0.013549392231517517,0.008557510883063694,0.0010696888603829618,0.00035656295346098724,0.001,0.001,0.0003565629534609878,0.0010696888603829603,0.001,0.0003565629534609878,0.0003565629534609878,0.0003654189789664325,0]},"bad":{"thresholds":[0,37.84065513898713,67.68131027797426,97.52196541696141,189],"from":[0,1,2,3,4,5],"to":[0,0.006606650944117129,0.013404531439974849,0.008377832149984275,0.00109315859764374,0]}},"B17":{"good":{"thresholds":[0,16.045174292375656,27.09034858475131,38.13552287712697,49.18069716950262,60.22587146187828,71.27104575425393,82.31622004662958,93.36139433900524,104.4065686313809,115.45174292375656,126.4969172161322,137.54209150850787,148.58726580088353,159.63244009325916,170.67761438563483,181.7227886780105,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],"to":[0,0.0026999581836623975,0.00980548122017715,0.01176657746421258,0.014054523082253915,0.010786029342194865,0.015361920578277535,0.011766577464212587,0.008824933098159429,0.001634246870029524,0.0003268493740059052,0.001,0.001,0.0009805481220177142,0.0003268493740059056,0.00032684937400590474,0.00032684937400590474,0.0004960840277292006,0]},"bad":{"thresholds":[0,40.445694512287616,74.89138902457523,109.33708353686285,189],"from":[0,1,2,3,4,5],"to":[0,0.006181127633351645,0.0116124817822242,0.007257801113890123,0.0012552892166115151,0]}},"B18":{"good":{"thresholds":[0,15.35198468938609,26.70396937877218,38.05595406815827,49.40793875754436,60.75992344693044,72.11190813631654,83.46389282570263,94.81587751508872,106.1678622044748,117.51984689386089,128.871831583247,140.2238162726331,151.57580096201917,162.92778565140526,174.27977034079134,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],"to":[0,0.0023515580404043918,0.009222452607085535,0.013038639892776099,0.013356655499916988,0.01017649942850818,0.017490858392748415,0.00954046821422642,0.007950390178522017,0.0019080936428452838,0.001,0.001,0.00031801560714088064,0.0009540468214226419,0.001,0.00031801560714088064,0.0004904961929028997,0]},"bad":{"thresholds":[0,41.55090396187973,77.10180792375947,112.6527118856392,189],"from":[0,1,2,3,4,5],"to":[0,0.006016716272391061,0.011251471985885622,0.008438603989414215,0.0006549021089669206,0]}},"B19":{"good":{"thresholds":[0,10.670259925260872,18.340519850521744,26.010779775782616,33.68103970104349,41.35129962630436,49.02155955156523,56.691819476826105,64.36207940208698,72.03233932734784,79.70259925260872,87.3728591778696,95.04311910313046,102.71337902839133,110.38363895365221,118.05389887891309,125.72415880417395,133.39441872943482,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"to":[0,0.0037216704760609843,0.016943871548466116,0.01976785013987713,0.018826523942740127,0.020709176337014138,0.020709176337014138,0.011295914365644075,0.012707903661349584,0.0004706630985685036,0.00047066309856850277,0.001,0.001,0.0004706630985685036,0.0014119892957055083,0.001,0.0004706630985685036,0.0004706630985685036,0.00006492348826789639,0]},"bad":{"thresholds":[0,23.15696379293001,42.31392758586002,61.47089137879003,80.62785517172004,189],"from":[0,1,2,3,4,5,6],"to":[0,0.008636710830850002,0.015660101634201385,0.01827011857323495,0.005220033878067127,0.0004613731700080959,0]}},"B20":{"good":{"thresholds":[0,3.147672779073044,5.295345558146088,7.443018337219131,9.590691116292176,11.73836389536522,13.886036674438262,16.033709453511307,18.18138223258435,20.329055011657395,22.47672779073044,24.624400569803484,26.772073348876525,28.91974612794957,31.067418907022613,33.21509168609566,35.3627644651687,37.51043724424174,39.65811002331479,41.80578280238783,43.95345558146088,46.10112836053392,48.24880113960697,50.39647391868001,52.54414669775305,54.6918194768261,56.83949225589914,58.987165034972186,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"to":[0,0.02179135589244206,0.062194766596552216,0.07396134406076481,0.06387570623429685,0.07396134406076478,0.05547100804557363,0.02521409456616981,0.011766577464212578,0.00840469818872327,0.011766577464212578,0.00840469818872327,0.0033618792754893136,0.003361879275489308,0.006723758550978616,0.0033618792754893023,0.0016809396377446568,0.0033618792754893136,0.005042818913233954,0.001,0.0016809396377446511,0.0033618792754893136,0.001,0.001,0.0033618792754893136,0.001,0.001,0.0016809396377446511,0.000027767322389517782,0]},"bad":{"thresholds":[0,7.52604724796058,13.05209449592116,18.57814174388174,24.10418899184232,29.6302362398029,189],"from":[0,1,2,3,4,5,6,7],"to":[0,0.033217968445221416,0.054288352331898125,0.036192234887932086,0.018096117443966043,0.018096117443966043,0.0003137357979348878,0]}},"B21":{"good":{"thresholds":[0,19.272415880417395,31.54483176083479,43.81724764125218,56.08966352166958,68.36207940208698,80.63449528250436,92.90691116292176,105.17932704333916,117.45174292375656,129.72415880417395,141.99657468459134,154.26899056500872,166.54140644542613,178.81382232584352,189],"from":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"to":[0,0.003371759402748858,0.010001590844580691,0.01029575528118601,0.01470822183026572,0.013531564083844462,0.01117824859100196,0.009707426407975376,0.004412466549079716,0.00029416443660531443,0.001,0.00029416443660531475,0.0008824933098159442,0.001,0.00029416443660531475,0.0007088249230932545,0]},"bad":{"thresholds":[0,45.0507338855881,84.1014677711762,123.1522016567643,189],"from":[0,1,2,3,4,5],"to":[0,0.005549299166466541,0.011523471013846301,0.006401928341025723,0.000759326830327294,0]}}}
var plaze= {
    "Brigi" : { "grad" : "Trogir","lng" : 16.25972271 , "lat" : 43.51976944, "ime":"Brigi","mjerenje" : [{"2024-07-10" : "izvrsno"},
     {"2024-06-26" : "dobro"}, {"2024-06-12" : "izvrsno"}, {"2024-05-28" : "izvrsno"}]},
    
    "Duhanska Stanica" : { "grad" : "Trogir/Čiovo","lng" : 16.26422882 , "lat":  43.51793337,"ime":"Duhanska Stanica",
     "mjerenje" : [{"2024-07-10" : "zadovoljavajuće"}, {"2024-06-26" : "zadovoljavajuće"},
    {"2024-06-12" : "izvrsno"}, {"2024-05-28" : "dobro"}] },
   
    "Miševac" : { "grad" : "Trogir/Čiovo", "lng": 16.27633095 ,"lat": 43.51513246 , "ime": "Miševac","mjerenje" : [{ "2024-07-10" : "izvrsno"},
    {"2024-06-26" : "izvrsno"}, {"2024-06-12" : "izvrsno"} , {"2024-05-28" : "izvrsno" }]},

    "Tri sestrice" : { "grad" : "Trogir/Čiovo", "lng": 16.28685594 , "lat":  43.51391091, "ime":"Tri sestrice", "mjerenje" : [{ "2024-07-10" : "izvrsno"}, 
    {"2024-06-26" : "izvrsno"}, {"2024-06-12" : "izvrsno"}, {"2024-05-28": "izvrsno"} ]},
    
    "Sv. Križ" : { "grad" : "Trogir/Čiovo", "lng": 16.29150152 , "lat": 43.51419102,"ime": "Sv. Križ","mjerenje": [{"2024-07-10" : "izvrsno"},
     {"2024-06-26" : "izvrsno"}, {"2024-06-12" : "izvrsno"}, {"2024-05-28": "izvrsno"}]},

     "Slatine" : { "grad": "Trogir/Čiovo", "lng": 16.33913755 , "lat": 43.49977185, "ime": "Slatine", "mjerenje": [{"2024-07-10": "izvrsno"},
      {"2024-06-26": "izvrsno"}, {"2024-06-12": "izvrsno"}, {"2024-05-28": "izvrsno"}] },

    "Resnik": { "grad": "Kaštela", "lng": 16.31507277, "lat": 43.54050702, "ime":"Resnik", "mjerenje": [{"2024-07-01": "izvrsno"},
     {"2024-06-17": "izvrsno"}, {"2024-06-03": "izvrsno"}, {"2024-05-20": "izvrsno"} ]},

     "K. Štafilić-Gabine" : { "grad": "Kaštela", "lng": 16.33160591, "lat": 43.54671291 , "ime":"K. Štafilić-Gabine", "mjerenje": [{"2024-07-01" : "izvrsno"},
      {"2024-06-17": "izvrsno"}, {"2024-06-03": "izvrsno"}, {"2024-05-20": "izvrsno"}]},

    "Đardin" : { "grad": "Kaštela", "lng": 16.34690523, "lat": 43.55038326, "ime":"Đardin" , "mjerenje": [{"2024-07-01": "zadovoljavajuće"},
     {"2024-06-17": "izvrsno " }, {"2024-06-03": "zadovoljavajuće"}, {"2024-05-20": "dobro"}]},

     //"Hotel Palace": { "grad": "Kaštela", "lng": 16.35452271, "lat": 43.55065541, "mjerenje": [{"2024-07-01":}]}
}
//var bands = ...
var bands=[
    'Oa01_radiance',
    'Oa02_radiance',
    'Oa03_radiance',
    'Oa04_radiance',
    'Oa05_radiance',
    'Oa06_radiance',
    'Oa07_radiance',
    'Oa08_radiance',
    'Oa09_radiance',
    'Oa10_radiance',
    'Oa11_radiance',
    'Oa12_radiance',
    'Oa13_radiance',
    'Oa14_radiance',
    'Oa15_radiance',
    'Oa16_radiance',
    'Oa17_radiance',
    'Oa18_radiance',
    'Oa19_radiance',
    'Oa20_radiance',
    'Oa21_radiance'
]

var bandFactors=[
    0.0139465,
    0.0133873,
    0.0121481,
    0.0115198,
    0.0100953,
    0.0123538,
    0.00879161,
    0.00876539,
    0.0095103,
    0.00773378,
    0.00675523,
    0.0071996,
    0.00749684,
    0.0086512,
    0.00526779,
    0.00530267,
    0.00493004,
    0.00549962,
    0.00502847,
    0.00326378,
    0.00324118
]

var rois= {
        "kornati_otvoreno_more" :  {
            "geometry" :  ee.Geometry.Polygon(
                [[[14.491504264753722, 43.72321276540049],
                  [14.687884879988097, 43.706338572761716],
                  [14.690631462019347, 43.78471367243464],
                  [14.496997428816222, 43.79660977327546]]]),
            "name" : "kornati",
            "description" : "koko"
        },
           
        
        "solta" : {
            "geometry" : ee.Geometry.Polygon(
                [[ 
                
                    [16.15218475008039,43.41160774308734],
                    [16.21077264340492,43.3399477660631],
                    [16.31622956371641,43.30878308626028],
                    [16.40373385104646,43.31589348821554],
                    [16.3993441820441,43.37366881558135],
                    [16.34990114673207,43.4072772308747],
                    [16.26380239527345,43.42582713023019],
                    [16.15218475008039,43.41160774308734]
                ]]    
            ),
            "name" : "solta",
            "description" : "koko2"
        },
        "izClanka":{
            "geometry" : ee.Geometry.Polygon(
            [[
                [16.246564530619207,43.47703654992279],
                [16.50062336850983,43.47703654992279],
                [16.50062336850983,43.56864765332039],
                [16.246564530619207,43.56864765332039],
                [16.246564530619207,43.47703654992279]
            ]]
            ),
            "name" : "izClanka",
            "description" : "koko10"
        },
        "ciovo" : {
            "geometry" : ee.Geometry.Polygon(
                [[ 
                    [16.246564530619207,43.47703654992279],
                    [16.50062336850983,43.47703654992279],
                    [16.50062336850983,43.56864765332039],
                    [16.246564530619207,43.56864765332039],
                    [16.246564530619207,43.47703654992279]
                    
                ]]    
            ),
            "name" : "ciovo",
            "description" : "koko3"
        },

        "dugi_rat" : {
            "geometry" : ee.Geometry.Polygon(
                [[ 
                    [16.562318964784332,43.42247860733626],
                    [16.680078669374176,43.42247860733626],
                    [16.680078669374176,43.48154738300029],
                    [16.562318964784332,43.48154738300029],
                    [16.562318964784332,43.42247860733626]
                    
                ]]    
            ),
            "name" : "dugi_rat",
            "description" : "koko4"
        }
     }

//////////////////////////////////////////////

function createBandNames(n) {
  if (n>9) {
    return 'B' + String(n)
  }
  return 'B0' + String(n)
}

// Define the predefined values for each band.
var bandNames = []
var bandName2GEE = {}
for (var i=1;i<=21;i++) {
  var bandName = createBandNames(i)
  bandNames.push(bandName)
  bandName2GEE[bandName] = bands[i-1]
}

function putMarkerOnPoint(plaza){
  var pointCoords = ee.Geometry.Point([plaza.lng, plaza.lat]); // Replace with your coordinates
  // Create a feature collection with the point
  var pointFeature = ee.Feature(pointCoords, {'label': plaza.ime});
  // Create a FeatureCollection to hold the point
  var pointCollection = ee.FeatureCollection([pointFeature]);
  // Add the point to the map
  Map.addLayer(pointCollection, {color: 'green'}, 'My Marker');
}

function bandProbability(band,probabilityIntervals){
  var thresholds = probabilityIntervals["thresholds"]
  var classified = band.gt(thresholds).reduce('sum').toInt(); //Create the classified Image
  var fromList = probabilityIntervals["from"] 
  var toList = probabilityIntervals["to"]
  return classified.remap({
    from: fromList,
    to: toList,
    defaultValue: 0,
  })
}


function izracunKvalitete(data,vjerojatnosti){
  var umnozakGood = null
  var umnozakBad = null
  bandNames.forEach(function(bandName) {
    var band = data.select(bandName2GEE[bandName])
                .first()
    var bandGood = vjerojatnosti[bandName]["good"]
    var bandGoodVjerojatnosti=bandProbability(band,bandGood)
  
    var bandBad = vjerojatnosti[bandName]["bad"]
    var bandBadVjerojatnosti=bandProbability(band,bandBad)
  
    if (umnozakGood === null) {
      umnozakGood = bandGoodVjerojatnosti
      umnozakBad = bandBadVjerojatnosti
    } else {
      umnozakGood.multiply(bandGoodVjerojatnosti)
      umnozakBad.multiply(bandBadVjerojatnosti)
    }
  })
  var kvaliteta =  umnozakGood.gt(umnozakBad).clip(roi);
  return kvaliteta
}

// make Map that has 1 for valid pixels and 0 for invalid
function calcValid(dataSet) {
  var allBands = dataSet.select(bands).first()
  print("allbands:",allBands)
  var preveliki = allBands.gt(189).reduce('sum').toInt().gt(0)
  var premali = allBands.lt(0).reduce('sum').toInt().gt(0)
  var invalid = preveliki.or(premali).clip(roi)
  //print(losi)
  return invalid
} 

function placeMarkers(plaze) {
  for (var key in plaze) {
    putMarkerOnPoint(plaze[key])
  }
}

function krajeviBandova(vjerojatnosti){
   bandNames.forEach(function(bandName) {
    var bandGood = vjerojatnosti[bandName]["good"]
    var thresholdGood= bandGood["thresholds"]
   // print ("threshold je:",threshold)
    print(thresholdGood[thresholdGood.length-1])
  
    var bandBad = vjerojatnosti[bandName]["bad"]
    var thresholdBad=bandBad ["thresholds"]
     print(thresholdBad[thresholdBad.length-1])
   })
}
////////////////////////////////////////////////////////////////////////////
//##########################################################################
////////////////////////////////////////////////////////////////////////////

// Define ae.Geometry.Point([16.289002780181892,43.3944748974847]);
// krajeviBandova(vjerojatnosti)

var roi= rois["izClanka"]["geometry"]

var dataset = ee.ImageCollection('COPERNICUS/S3/OLCI')
                  .filterBounds(roi)
                  .filterDate('2024-07-06', '2024-07-15');

var kvaliteta=izracunKvalitete(dataset,vjerojatnosti)
print("--------------")

var invalid = calcValid(dataset)
var validKvaliteta = invalid.multiply(2).add(kvaliteta)

Map.centerObject(roi, 12);
//Map.addLayer(kvaliteta, {min: 0, max: 1, palette: ['black', 'white']}, 'Kvaliteta mora', true, 0.5);
Map.addLayer(invalid, {min: 0, max: 1, palette: ['white', 'gray']}, 'Invalid', true, 0.5);
Map.addLayer(validKvaliteta, {min: 0, max: 3, palette: ['red', 'blue', 'yellow', 'yellow']}, 'Kvaliteta mora', true, 0.5);

placeMarkers(plaze)

